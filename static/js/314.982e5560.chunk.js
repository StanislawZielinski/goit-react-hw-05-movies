"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[314],{7911:function(e,t,n){n(2791);var r=n(184);t.Z=function(e){var t=e.children;return(0,r.jsx)("ul",{className:"TrendingList",children:t})}},314:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(2982),a=n(5861),u=n(885),c=n(7757),s=n.n(c),i=n(2791),o=n(184),l=function(e){var t=e.onSubmit,n=e.onChange;return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{className:"SearchForm",onSubmit:t,children:[(0,o.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"search",onChange:n}),(0,o.jsx)("button",{type:"submit",className:"SearchForm-button",children:(0,o.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})})},h=n(643),f="de343408ee71dab0921495888bb73ef5",p=n(4569).default;function m(){return(m=(0,a.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(f,"&language=en-US&page=1&include_adult=false&query=").concat(t));case 2:return n=e.sent,r=n.data.results,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e){return m.apply(this,arguments)},v=n(7911),b=n(501),g=n(6871),x=function(){var e=(0,i.useState)([]),t=(0,u.Z)(e,2),n=t[0],c=t[1],f=(0,i.useState)(!1),p=(0,u.Z)(f,2),m=p[0],x=p[1],S=(0,i.useState)(""),j=(0,u.Z)(S,2),y=j[0],Z=j[1],_=(0,i.useState)(null),k=(0,u.Z)(_,2),w=k[0],C=k[1],N=(0,b.lr)(),F=(0,u.Z)(N,2),T=F[0],q=F[1],E=function(){return Z("")};function U(e){return B.apply(this,arguments)}function B(){return B=(0,a.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,d(t);case 4:(n=e.sent).length>0?(c((0,r.Z)(n)),q({query:t})):alert("Please try again. Minimum number of characters - 2 "),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),C(e.t0),console.log(e.t0);case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),B.apply(this,arguments)}(0,i.useEffect)((function(){var e=T.get("query");null!==e&&U(e)}),[T]);var D=(0,g.TH)();return(0,o.jsxs)("div",{children:[(0,o.jsx)(l,{onSubmit:function(e){e.preventDefault(),console.log(w),E(),U(y),e.currentTarget.reset()},onChange:function(e){Z(e.currentTarget.value)}}),(0,o.jsx)(h.Bb,{visible:m}),(0,o.jsx)(v.Z,{children:function(e){return e.map((function(e){return(0,o.jsx)(b.rU,{to:"".concat(e.id),state:{from:D},children:(0,o.jsxs)("li",{className:"trendingElem",children:[e.title," ",e.name]},e.id)},e.id)}))}(n)})]})}}}]);
//# sourceMappingURL=314.982e5560.chunk.js.map